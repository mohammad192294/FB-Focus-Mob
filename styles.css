/* 
   VERSION 6.0: THE END GAME CSS
   Target: Facebook Mobile & Desktop
   Strategy: Zero-Tolerance Layout Collapse
*/

/* ----------------------------------------------------
   1. NAVBAR & HEADER CLEANUP (Absolute Zero Gaps)
---------------------------------------------------- */
/* Video/Watch/Reels Icon Containers */
div[data-sigil="m-navbar-item"]:has(a[href*="video"]),
div[data-sigil="m-navbar-item"]:has(a[href*="watch"]),
div[data-sigil="m-navbar-item"]:has(a[href*="reel"]),
/* Flexbox & Grid Items */
.col:has(a[href*="video"]),
td:has(a[href*="video"]),
li:has(a[href*="video"]),
li:has(a[href*="watch"]),
div[role="button"]:has(a[aria-label="Video"]),
/* Specific Icons */
a[aria-label="Video"], 
a[aria-label="Watch"],
a[href*="/watch/"],
svg[aria-label="Video"] {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    min-width: 0 !important;
    flex: 0 0 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* ----------------------------------------------------
   2. STORIES & REELS TRAY (Vertical & Horizontal Kill)
---------------------------------------------------- */
/* Mobile Stories Tray */
div[data-sigil="m-stories-tray-root"],
div[data-sigil="m-stories-tray"],
div[data-store*="stories"],
section[aria-label="Stories"],
div#m_news_feed_stream > div:first-child:has(div[aria-label="Story"]),
/* Desktop Reels Tray */
div[aria-label="Reels and short videos"],
div[data-pagelet="ReelsTray"] {
    display: none !important;
    height: 0 !important;
    margin-bottom: 0 !important;
    border: none !important;
}

/* ----------------------------------------------------
   3. FEED VIDEO CARDS (Entire Card Removal)
---------------------------------------------------- */
/* Mobile Feed Unit (_55wo is the card class) */
div._55wo:has(video),
div._55wo:has(div[data-sigil="inlineVideo"]),
div._55wo:has(div[data-store*="videoID"]),
div._55wo:has(i[data-sigil="play-button"]),
div._55wo:has(a[href*="/reel/"]),
div._55wo:has(a[href*="/shorts/"]),
/* Desktop Feed Unit */
div[data-pagelet^="FeedUnit"]:has(video),
div[role="article"]:has(video) {
    display: none !important;
}

/* ----------------------------------------------------
   4. REDUNDANT CLEANUP
---------------------------------------------------- */
/* If a container becomes empty due to hiding, hide it too */
div:empty, span:empty {
    /* Be careful with this, sometimes causes issues, 
       but for m.facebook gaps it helps */
    display: none !important;
}
